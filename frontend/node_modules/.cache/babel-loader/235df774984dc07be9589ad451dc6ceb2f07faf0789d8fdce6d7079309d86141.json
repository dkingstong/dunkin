{"ast":null,"code":"var _jsxFileName = \"/Users/denniskingston/Desktop/method/frontend/my-app/src/dashboard/Deposits.js\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport { useTheme } from '@mui/material/styles';\nimport Typography from '@mui/material/Typography';\nimport Title from './Title';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction preventDefault(event) {\n  event.preventDefault();\n}\nconst getAccounts = async () => {\n  const res = await axios.get('http://127.0.0.1:4000/accounts/source');\n  const {\n    distinctAccounts\n  } = res.data;\n  const accountsMap = {};\n  distinctAccounts.map(account => {\n    const name = account.routingNumber + ' ' + account.accountNumber;\n    accountsMap[name] = account._id;\n    return name;\n  });\n  return accountsMap;\n};\nconst getBranches = async () => {\n  const res = await axios.get('http://127.0.0.1:4000/transactions/branches');\n  console.log('********** res', res);\n  return res.data;\n};\nfunction getStyles(name, personName, theme) {\n  return {\n    fontWeight: personName.indexOf(name) === -1 ? theme.typography.fontWeightRegular : theme.typography.fontWeightMedium\n  };\n}\nexport default function Deposits(props) {\n  _s();\n  // we are going to have filters to filter by branch etc.\n  // we need to call the backend to populate all the different branches and accounts\n  // the onChange function will need to query the db to get the aggregated r\n  const {\n    title,\n    sourceType\n  } = props;\n  const theme = useTheme();\n  const [source, setSource] = React.useState('');\n  const [amount, setAmount] = React.useState('$0');\n  const getNames = async sourceType => {\n    const accounts = await getAccounts();\n    const accountNames = Object.keys(accounts);\n    const branches = await getBranches();\n    const names = sourceType === 'Account' ? accountNames : branches;\n    return names;\n  };\n  const names = getNames(sourceType);\n  const handleAccountChange = async (event, accountsMap) => {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setSource(value);\n    const res = await axios.get(`http://127.0.0.1:4000/transactions/metrics/account/${accountsMap[value]}`);\n    const amount = res.data;\n    setAmount(`$${amount}`);\n  };\n  const handleBranchChange = async event => {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setSource(value);\n    //const res = await axios.get(`http://127.0.0.1:4000/transactions/metrics/account/${accountsMap[value]}`)\n    //const amount = res.data\n    //setAmount(`$${amount}`)\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      component: \"p\",\n      variant: \"h4\",\n      children: amount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(FormControl, {\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"demo-simple-select-label\",\n          children: sourceType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"demo-simple-select-label\",\n          id: \"demo-simple-select\",\n          value: source,\n          label: sourceType,\n          onChange: sourceType === 'Account' ? event => {\n            handleAccountChange(event, getAccounts());\n          } : handleBranchChange,\n          children: names.map(name => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: name,\n            style: getStyles(name, source, theme),\n            children: name\n          }, name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(Deposits, \"ix5OqFsHxsROzTkBKJEYfvC9GnY=\", false, function () {\n  return [useTheme];\n});\n_c = Deposits;\nvar _c;\n$RefreshReg$(_c, \"Deposits\");","map":{"version":3,"names":["React","useTheme","Typography","Title","InputLabel","MenuItem","FormControl","Select","axios","jsxDEV","_jsxDEV","preventDefault","event","getAccounts","res","get","distinctAccounts","data","accountsMap","map","account","name","routingNumber","accountNumber","_id","getBranches","console","log","getStyles","personName","theme","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","Deposits","props","_s","title","sourceType","source","setSource","useState","amount","setAmount","getNames","accounts","accountNames","Object","keys","branches","names","handleAccountChange","target","value","handleBranchChange","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber","component","variant","fullWidth","id","labelId","label","onChange","style","_c","$RefreshReg$"],"sources":["/Users/denniskingston/Desktop/method/frontend/my-app/src/dashboard/Deposits.js"],"sourcesContent":["import * as React from 'react';\nimport { useTheme } from '@mui/material/styles';\nimport Typography from '@mui/material/Typography';\nimport Title from './Title';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport axios from 'axios'\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nconst getAccounts = async() => {\n  const res = await axios.get('http://127.0.0.1:4000/accounts/source')\n  const { distinctAccounts } = res.data\n  const accountsMap = {}\n  distinctAccounts.map(account => {\n  const name = account.routingNumber + ' ' + account.accountNumber\n  accountsMap[name] = account._id\n  return name\n  })\n  return accountsMap\n}\n\nconst getBranches = async() => {\n  const res = await axios.get('http://127.0.0.1:4000/transactions/branches')\n  console.log('********** res', res)  \n  return res.data\n}\n\nfunction getStyles(name, personName, theme) {\n  return {\n    fontWeight:\n      personName.indexOf(name) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nexport default function Deposits(props) {\n\n  // we are going to have filters to filter by branch etc.\n  // we need to call the backend to populate all the different branches and accounts\n  // the onChange function will need to query the db to get the aggregated r\n  const {title, sourceType} = props\n  const theme = useTheme();\n  const [source, setSource] = React.useState('');\n  const [amount, setAmount] = React.useState('$0');\n\n  const getNames = async(sourceType) => {\n    const accounts = await getAccounts();\n    const accountNames = Object.keys(accounts)\n    const branches = await getBranches();\n\n    const names = sourceType === 'Account' ? accountNames : branches\n\n    return names\n  }\n\n  const names = getNames(sourceType)\n\n\n  const handleAccountChange = async(event, accountsMap) => {\n    const {\n      target: { value },\n    } = event;\n    setSource(value);\n    const res = await axios.get(`http://127.0.0.1:4000/transactions/metrics/account/${accountsMap[value]}`)\n    const amount = res.data\n    setAmount(`$${amount}`)\n  };\n  \n  const handleBranchChange = async(event) => {\n    const {\n      target: { value },\n    } = event;\n    setSource(value);\n    //const res = await axios.get(`http://127.0.0.1:4000/transactions/metrics/account/${accountsMap[value]}`)\n    //const amount = res.data\n    //setAmount(`$${amount}`)\n  };\n\n\n  return (\n    <React.Fragment>\n      <Title>{title}</Title>\n      <Typography component=\"p\" variant=\"h4\">\n        {amount}\n      </Typography>\n      <div>\n      <FormControl fullWidth>\n        <InputLabel id=\"demo-simple-select-label\">{sourceType}</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={source}\n          label={sourceType}\n          onChange={sourceType === 'Account' ? (event) => { handleAccountChange(event, getAccounts()) }: handleBranchChange}\n        >\n          {names.map((name) => (\n            <MenuItem\n              key={name}\n              value={name}\n              style={getStyles(name, source, theme)}\n            >\n              {name}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      </div>\n    </React.Fragment>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}